(this["webpackJsonppriority-pulse"]=this["webpackJsonppriority-pulse"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},149:function(e,t){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(33),c=a.n(r),i=(a(88),a(89),a(8)),l=a(10),s=(a(90),a(15)),m=a(63),u=a(62),d={SET_CURRENTUSER:"SET_CURRENTUSER",SET_USERLATITUDE_LOCATION:"SET_USERLATITUDE_LOCATION",SET_USERLONGITUDE_LOCATON:"SET_USERLONGITUDE_LOCATON",POST_USER_SUCCESS:"POST_USER_SUCCESS",POST_USER_FAILURE:"POST_USER_FAILURE"},p=function(e){return{type:d.SET_CURRENTUSER,payload:e}},E=function(e){return{type:d.SET_USERLATITUDE_LOCATION,payload:e}},g=function(e){return{type:d.SET_USERLONGITUDE_LOCATON,payload:e}},f=a(3),b=a(24),h=a.n(b),v=Object(i.g)((function(e){var t=e.currentUser,a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],i=r[1],d=function(){i(!c)},E=Object(f.b)();return o.a.createElement("div",null,o.a.createElement("div",{className:"Navbar"},o.a.createElement("div",{className:"burger",onClick:d},c?o.a.createElement(u.a,null):o.a.createElement(m.a,null)),t?o.a.createElement("ul",{className:c?"navbarList active":"navbarList",onClick:d},o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/home",className:"loginLink",activeClassName:"activeNavLink"},"Home")),o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/trackambulance",className:"trackambulanceLink",activeClassName:"activeNavLink"},"Track Ambulance")),o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/aboutus",className:"aboutusLink",activeClassName:"activeNavLink"},"About us")),o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/logout",className:"logoutLink",activeClassName:"activeNavLink",onClick:function(){return E(p(null))}},"Logout"))):o.a.createElement("ul",{className:c?"navbarList active":"navbarList",onClick:d},o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/login",className:"loginLink",activeClassName:"activeNavLink"},"Login")),o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/trackambulance",className:"trackambulanceLink",activeClassName:"activeNavLink"},"Track Ambulance")),o.a.createElement("li",{className:"navbarListItem"},o.a.createElement(s.b,{exact:!0,to:"/aboutus",className:"aboutusLink",activeClassName:"activeNavLink"},"About us")))))})),T=(a(105),a(106),[{icon:o.a.createElement("i",{class:"fas fa-location",style:{color:"#343BFC"}}),title:"Book and track from anyplace",desc:"Person can book from anyplace and Track it from the world"},{icon:o.a.createElement("i",{class:"fas fa-video",style:{color:"#B2C248"}}),title:"Live feed to hospital and Doctor",desc:"Patient and Doctor can be connected with live feed"},{icon:o.a.createElement("i",{class:"fas fa-traffic-light",style:{color:"green"}}),title:"Get way in Traffic",desc:"Get the Traffic signals turn to green in your way. "},{icon:o.a.createElement("i",{class:"fas fa-hospital",style:{color:"#E55B3C"}}),title:"Premedication",desc:"Hospitals can prepare for premedication as doctors know the whole situation."},{icon:o.a.createElement("i",{class:"fas fa-calendar-plus",style:{color:"#00ff00"}}),title:"First to Market",desc:"We are first to introduce the traffic access technology, collaboration with government "},{icon:o.a.createElement("i",{class:"fas fa-search-location",style:{color:"#C0C0C0"}}),title:"Freedom to Choice",desc:"You can get to choose a free or paid ambulance available near you. "},{icon:o.a.createElement("i",{class:"fas fa-shipping-fast",style:{color:"#808000"}}),title:"Track 108, Government Providers",desc:"Track 108 and government Ambulance services on real-time        "},{icon:o.a.createElement("i",{class:"fas fa-phone-volume",style:{color:"#FFA500"}}),title:"Direct On-call Communication",desc:"Engage effortlessly with ambulance drivers and hospital over the phone.        "}]);var N,A,S,y,_,O=function(){return o.a.createElement("div",{className:"Statscontainer"},o.a.createElement("div",{className:"heading"},"Why Choose Us?"),o.a.createElement("div",{className:"Wrapper"},T.map((function(e,t){return o.a.createElement("div",{className:"StatsBox",key:"index"},o.a.createElement("div",{className:"Icon"},e.icon),o.a.createElement("div",{className:"Title"},e.title),o.a.createElement("div",{className:"Desc"},e.desc))}))))},I=(a(107),a(64),a(108),{apiKey:"AIzaSyDUVbgmECG3QkiLnAeC6cdt8sYWzcLqwhk",authDomain:"user-priority.firebaseapp.com",databaseURL:"https://user-priority.firebaseapp.firebaseio.com",projectId:"user-priority",storageBucket:"user-priority.appspot.com",messagingSenderId:"609014500497",appId:"1:609014500497:web:b4ba4651e9dae4dbb48330"}),L=a(65),C=function(){var e=Object(f.b)();Object(f.c)((function(e){return e.User.latitude})),Object(f.c)((function(e){return e.User.longitude}));return Object(n.useEffect)((function(){h.a.apps.length||h.a.initializeApp(I);var t={signInSuccessUrl:"https://user.prioritypulse.co.in/home",signInOptions:[{provider:h.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IN"}],callbacks:{signInSuccess:function(t){console.log(t);var a={number:t.phoneNumber.slice(3,13)};fetch("https://serverprioritypulse.herokuapp.com/user/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(a)}).then((function(e){return e.json()})).then(e(p(t))).then((function(e){fetch("https://serverprioritypulse.herokuapp.com/auth/usersignin",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("jwt",e)}))})).catch((function(e){return alert(e)})),e(p(t))}}},a=new L.a.AuthUI(h.a.auth());return a.start("#loginFormWrapper",t),function(){a.delete()}}),[]),o.a.createElement("div",{className:"loginGrid"},o.a.createElement("div",{className:"LoginSidebar"},o.a.createElement("p",{className:"priorityPulse"},"Priority Pulse"),o.a.createElement("div",{className:"loginFormWrapper",id:"loginFormWrapper"})),o.a.createElement("div",{className:"adGrid"},o.a.createElement(O,null)))},D=(a(116),a(67)),R=a.n(D),j=(a(117),a(68),a(122),a(123),a(69)),w=a.n(j),k=a(27),P=a.n(k),U=a(35),H=a.n(U),B=a(36),F=a.n(B),G=a(152);var M=function(){var e=Object(n.useState)("}|dyCwjnyN[?gACiCK?aBGwBCcACoAAw@AuAIe@CwAEwAMqEy@?{ACyAAi@AeBIyAK{AQeC_@eBYAAk@My@UcBe@AAq@SaA_@o@YwCaBqBkAOIyB_Bi@e@MMWWaBeBwC}CYY]i@cA}A{@aBKS{A_DAEU_@o@oBUu@Ma@K_@AGCKm@gCa@kBMQWmAOiAEg@I_AKaB?MIeC?IGaBAkA@Y@oA@WHkA@SBk@?M?K?IAKMGmBaAcAi@q@@YQ@UaCwAA??@A?A?A??@A?A?AAA?A?AAA??AA??AA?ACAC?E?E?A?A@??A@A?A@??A@??A@?@A@?@?@AX{Ad@}BLuALiABm@DgA?KBqBJ?fALVCT_BF["),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(f.c)((function(e){return e.Rides.currentRideDetails}));Object(n.useEffect)((function(){"undefined"!==typeof c&&c[0]?(y=c[0].polyline,r(y)):console.log("else")}),[c]);Object(f.c)((function(e){return e.Hospital.aboutHospital.length>0?e.Hospital.aboutHospital[0].hospitalLocation.coordinates:""})),Object(f.c)((function(e){return e.Hospital.aboutHospital}));var i=Object(f.c)((function(e){return e.Driver.driverLatitude?e.Driver.driverLatitude:""})),s=Object(f.c)((function(e){return e.Driver.driverLongitude?e.Driver.driverLongitude:""})),m=(Object(f.c)((function(e){return e.User.latitude?e.User.latitude:""})),Object(f.c)((function(e){return e.User.longitude?e.User.longitude:""})),Object(n.useState)(16.75694)),u=Object(l.a)(m,2),d=u[0],p=u[1],b=Object(n.useState)(81.6963),h=Object(l.a)(b,2),v=h[0],T=h[1],O=Object(n.useRef)();Object(n.useEffect)((function(){O.current=c}));O.current;Object(n.useEffect)((function(){_=F.a.connect("http://134.209.158.239:3000/usertrack"),d&&c.length&&"undefined"!==typeof c&&_.emit("join",{roomid:c&&"undefined"!==typeof c?c[0]&&c[0]._id:c},console.log("joined",c[0]._id)),_.emit("sendUserLocation",{coordinates:[d,v]},console.log("sent",d,v))}),[d,c]),Object(n.useEffect)((function(){S&&(N&&N.setMap(null),N=new window.google.maps.Marker({position:{lat:i,lng:s},icon:w.a,map:S}))}),[i]);var I=Object(n.useState)("");Object(l.a)(I,1)[0];Object(n.useEffect)((function(){C()}),[y]);var L=Object(f.b)(),C=function(){!function(e){var t=window.document.getElementsByTagName("script")[0],a=window.document.createElement("script");a.src=e,a.async=!0,a.defer=!0,t.parentNode.insertBefore(a,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyD1DrDBUd6GNL2EIBCxK-K0OjkTny8kbuA&libraries=geometry&callback=initMap"),window.initMap=D},D=function(){if("undefined"!==typeof a&&a.length){var e=G(a),t=e.length;S=new window.google.maps.Map(document.getElementById("map"),{center:{lat:16.7566,lng:81.697},zoom:15}),new window.google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#0000FF",strokeOpacity:1,strokeWeight:2}).setMap(S),S.setCenter(e[0]),"undefined"!==typeof c&&R();new window.google.maps.Marker({map:S,position:e[0]}),new window.google.maps.Marker({map:S,icon:H.a,position:e[t-1]});A=new window.google.maps.Marker({map:S,icon:P.a,draggable:!0,position:{lat:16.7566,lng:81.697}})}else alert("Polyline is false"),S=new window.google.maps.Map(document.getElementById("map"),{center:{lat:25.27794,lng:83.00244},zoom:18})},R=function(){console.log("iam cliicled");var e=function(e,t,a){t.setPosition(a),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(S)};navigator.geolocation?(navigator.geolocation.watchPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};console.log(t),p(t.lat),T(t.lng),L(E(t.lat)),L(g(t.lng)),A.setPosition(t)})),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};console.log(e),L(E(t.lat)),L(g(t.lng)),A.setPosition(t);new window.google.maps.event.addListener(A,"dragend",(function(e){var t={lat:A.getPosition().lat(),lng:A.getPosition().lng()};p(t.lat),T(t.lng),L(E(t.lat)),L(g(t.lng))}))}),(function(){e(!0,void 0,S.getCenter())}))):e(!1,void 0,S.getCenter())};return o.a.createElement("main",null,o.a.createElement("div",{id:"map",className:"indexMap"}))},x=(a(153),{GET_HOSPITALDETAILS:"GET_HOSPITALDETAILS",FETCH_HOSPITAL_DETAILS_START:"FETCH_HOSPITAL_DETAILS_START",FETCH_HOSPITAL_DETAILS_SUCCESS:"FETCH_HOSPITAL_DETAILS_SUCCESS",FETCH_HOSPITAL_DETAILS_FAILURE:"FETCH_HOSPITAL_DETAILS_FAILURE",SET_HOSPITAL_COORDINATES:"SET_HOSPITAL_COORDINATES"}),W=function(){return function(e){e({type:x.FETCH_HOSPITAL_DETAILS_START}),fetch("https://serverprioritypulse.herokuapp.com/hospital/",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){return e({type:x.FETCH_HOSPITAL_DETAILS_SUCCESS,payload:t})})).catch((function(t){return e({type:x.FETCH_HOSPITAL_DETAILS_FAILURE,payload:t})}))}},z=function(){var e=Object(f.c)((function(e){return e.Hospital.hospitalDetails})),t=Object(f.c)((function(e){return e.Hospital.aboutHospital.length>0?e.Hospital.aboutHospital[0].hospitalLocation.coordinates:[]}));console.log("hospitalCoordinates",t);var a=Object(f.b)();return Object(n.useEffect)((function(){a(W())}),[]),o.a.createElement("div",{className:"HospitalNames"},o.a.createElement("p",{className:"hospitalNamesTitle"},"Hospital names"),o.a.createElement("div",{className:"hospitalnames"},e.length>0?o.a.createElement("ul",{className:"hospitalNamesList"},e.map((function(e){return o.a.createElement("li",{className:"hospitalName",key:e._id,onClick:function(){var t;a((t=e.code,{type:x.GET_HOSPITALDETAILS,payload:t}))}},e.name)}))):"There are no nearby hospitals"))},J=a(4),K=(a(154),a(70)),Y=a.n(K),q=function(){var e=Object(f.c)((function(e){return e.Hospital.aboutHospital})),t=Object(J.a)({},e[0]),a=t.name,r=t.address,c=t.hospitalNumbers,i=Object(f.c)((function(e){return e.User.latitude})),s=Object(f.c)((function(e){return e.User.longitude})),m=Object(f.c)((function(e){return e.User.currentUser.phoneNumber.slice(3,13)})),u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],E=d[1];console.log(c);return o.a.createElement("div",{className:"HospitalDetail"},o.a.createElement("div",{className:"hdf"},o.a.createElement("p",{className:"hospital"},e.length>0?a:"Hospital Name"),o.a.createElement("button",{className:"sendLocationBtn",onClick:function(){var e={location:{coordinates:[i,s]},number:m};fetch("https://serverprioritypulse.herokuapp.com/user/updatelocation",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(e)}).then(E(!0)).catch((function(e){return alert(e)}))},style:{cursor:"pointer"}},p?"Location sent":"Send location")),o.a.createElement("p",{className:"hospitalAddress"},e.length>0?r:"Click on the hospital for more details"),o.a.createElement("div",{className:"moreAboutHospitalDetails"},o.a.createElement("div",{className:"moreAboutHospital"},o.a.createElement("p",null,"Contact"),o.a.createElement("p",null,":"),o.a.createElement("p",{className:"mahhc"},e.length>0?c.map((function(e){return o.a.createElement("a",{className:"for calling option",style:{color:"black",textDecoration:"none",alignItems:"center",margin:"8px"},href:"tel:"+e},e,o.a.createElement("img",{className:"phoneicon",src:Y.a}),o.a.createElement("br",null))})):"Contact")),o.a.createElement("div",{className:"moreAboutHospital"},o.a.createElement("p",{className:"maha"},"Address"),o.a.createElement("p",{className:"madot"},":"),o.a.createElement("p",{className:"mahha"},e.length>0?r:"Address"),o.a.createElement("br",null))))};var V,Q=function(){var e=Object(f.c)((function(e){return e.Hospital.aboutHospital.length>0?e.Hospital.aboutHospital[0].hospitalLocation.coordinates:""})),t=Object(f.c)((function(e){return e.Hospital.aboutHospital.length>0?e.Hospital.aboutHospital[0].name:""})),a=Object(f.c)((function(e){return e.Hospital.hospitalDetails})),r=(Object(f.c)((function(e){return e.Driver.driverLatitude?e.Driver.driverLatitude:""})),Object(f.c)((function(e){return e.Driver.driverLongitude?e.Driver.driverLongitude:""})),[]),c=[];a.map((function(e){r.push(e.hospitalLocation.coordinates[0]),c.push(e.hospitalLocation.coordinates[1])}));var i,s,m,u=Object(f.b)(),d=Object(n.useState)([]),p=Object(l.a)(d,2);p[0],p[1];Object(n.useEffect)((function(){v()}),[e]);var b=Object(n.useState)(""),h=Object(l.a)(b,2),v=(h[0],h[1],function(){!function(e){var t=window.document.getElementsByTagName("script")[0],a=window.document.createElement("script");a.src=e,a.async=!0,a.defer=!0,t.parentNode.insertBefore(a,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyATwnp3e3ZL7__Oskpdo8Gutgls6ir4FeU&libraries=places&callback=initMap"),window.initMap=T}),T=function(){i=new window.google.maps.Map(document.getElementById("map"),{center:e?{lat:e[0],lng:e[1]}:{lat:25.27794,lng:83.00244},zoom:e?14:18}),s=new window.google.maps.InfoWindow,m=new window.google.maps.Marker({map:i,draggable:!0,icon:P.a,position:{lat:25.27794,lng:83.00244}});for(var a=0;a<c.length;a++)var n=new window.google.maps.Marker({map:i,icon:H.a,position:{lat:r[a],lng:c[a]}});if(e){n.setPosition({lat:e[0],lng:e[1]});var o=new window.google.maps.InfoWindow({content:t||""});n.addListener("click",(function(){o.open(i,n)}))}var l=document.getElementById("mapsearch"),d=new window.google.maps.places.SearchBox(l);i.addListener("bounds_changed",(function(){d.setBounds(i.getBounds())})),d.addListener("places_changed",(function(){var e=d.getPlaces();if(0!=e.length){var t=new window.google.maps.LatLngBounds;e.forEach((function(e){e.geometry?(e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location),m.setPosition(e.geometry.location)):console.log("Returned place contains no geometry")})),i.fitBounds(t)}}));new window.google.maps.event.addListener(m,"dragend",(function(e){console.log("iam dragged");var t={lat:m.getPosition().lat(),lng:m.getPosition().lng()};u(E(t.lat)),u(g(t.lng)),console.log(m.getPosition())}))};return o.a.createElement("main",null,o.a.createElement("div",{className:"SearchBar"},o.a.createElement("div",null,o.a.createElement("input",{placeholder:"Search nearby hospitals...",className:"searchHospital",id:"mapsearch"})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(t){return function(t){i=new window.google.maps.Map(document.getElementById("map"),{center:e?{lat:e[0],lng:e[1]}:{lat:25.27794,lng:83.00244},zoom:e?14:18}),s=new window.google.maps.InfoWindow,m=new window.google.maps.Marker({map:i,draggable:!0,icon:P.a,position:{lat:25.27794,lng:83.00244}}),console.log("iam clicked");var a=function(e,t,a){t.setPosition(a),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(i)};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};console.log(e),u(E(t.lat)),u(g(t.lng)),s.open(i),m.setPosition(t),i.setCenter(t),i.setZoom(16)}),(function(){a(!0,s,i.getCenter())})):a(!1,s,i.getCenter())}()},className:"myLocationBtn"},"My Location"))),o.a.createElement("div",{className:"indexMap",id:"map"}))},Z=function(){return o.a.createElement("div",{className:"SideBar"},o.a.createElement(Q,null),o.a.createElement("div",{className:"hospitalDetailsTotal"},o.a.createElement("div",{className:"hnames"},o.a.createElement(z,null)),o.a.createElement("div",{className:"hdetails"},o.a.createElement(q,null))))},X=function(){var e=Object(f.c)((function(e){return e.User.currentUser.phoneNumber}));return o.a.createElement("div",{className:"HomeGrid"},o.a.createElement("p",{className:"ppulse"},"Priority Pulse"),o.a.createElement("div",{className:"UserProfileSidebar"},o.a.createElement("p",{className:"priorityPulse"},"Priority Pulse"),o.a.createElement("div",{className:"profile"},o.a.createElement("img",{src:R.a,alt:"ProfileImage",className:"profileImage"}),o.a.createElement("div",{className:"profileDetails"},o.a.createElement("div",{className:"profileDetail"},o.a.createElement("p",null,"Contact")),o.a.createElement("div",{className:"profileDetail"},o.a.createElement("p",null,":")),o.a.createElement("div",{className:"profileDetail"},o.a.createElement("p",null,e))))),o.a.createElement("div",{className:"mapGrid"},o.a.createElement(Z,null)))},$=(a(155),a(156),a(157),a(158),{GET_RIDE_DETAILS:"GET_RAID_DETAILS",FETCH_PASTRIDE_DETAILS_START:"FETCH_PASTRIDE_DETAILS_START",FETCH_PASTRIDE_DETAILS_SUCCESS:"FETCH_PASTRIDE_DETAILS_SUCCESS",FETCH_PASTRIDE_DETAILS_FAILURE:"FETCH_PASTRIDE_DETAILS_FAILURE",GET_CURRENT_RIDE_DETAILS:"GET_CURRENT_RIDE_DETAILS"}),ee=function(e){return{type:$.GET_CURRENT_RIDE_DETAILS,payload:e}},te=function(e){return function(t){t({type:$.FETCH_PASTRIDE_DETAILS_START}),fetch(" https://serverprioritypulse.herokuapp.com/user/pastrides/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return t({type:$.FETCH_PASTRIDE_DETAILS_SUCCESS,payload:e})})).catch((function(e){return t({type:$.FETCH_PASTRIDE_DETAILS_FAILURE,payload:e})}))}},ae=function(){var e=Object(f.c)((function(e){return e.Rides.pastrides}));Object(f.c)((function(e){return e.User.currentUser.phoneNumber}));console.log(e);var t=Object(f.b)();return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"PastRide"},e.length>0?o.a.createElement("table",{className:"pastrideTable"},o.a.createElement("tbody",null,e.map((function(e,a){return o.a.createElement("tr",{className:"pastrideDetails",onClick:function(){t(ee([e]));JSON.stringify(e.polyline)},key:a},o.a.createElement("td",null,"06:00"),o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.pcase),o.a.createElement("td",null,e.pickedBy.name))})))):o.a.createElement("div",{className:"noRides"},"There are no past rides available with the current number"))},ne=function(){return o.a.createElement("div",{className:"PastRides"},o.a.createElement("p",{className:"pastRidesTitle"},"Past Rides"),o.a.createElement("div",{className:"pastRidesComponent"},o.a.createElement(ae,null)))},oe=(a(159),a(160),{GET_PRESENTRIDE_DETAILS:"GET_PRESENTRAID_DETAILS",FETCH_PRESENTRIDE_DETAILS_START:"FETCH_PRESENTRIDE_DETAILS_START",FETCH_PRESENTRIDE_DETAILS_SUCCESS:"FETCH_PRESENTRIDE_DETAILS_SUCCESS",FETCH_PRESENTRIDE_DETAILS_FAILURE:"FETCH_PRESENTRIDE_DETAILS_FAILURE"}),re=function(e){return function(t){t({type:oe.FETCH_PRESENTRIDE_DETAILS_START}),fetch("https://serverprioritypulse.herokuapp.com/user/activeRide/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return t({type:oe.FETCH_PRESENTRIDE_DETAILS_SUCCESS,payload:e})})).catch((function(e){return t({type:oe.FETCH_PRESENTRIDE_DETAILS_FAILURE,payload:e})}))}},ce=function e(){var t=Object(f.c)((function(e){return e.PresentRide.presentRide}));console.log(t);Object(f.c)((function(e){return e.User.currentUser.phoneNumber}));var a=Object(f.b)();return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"presentRideDetails"},t.length>0?o.a.createElement("table",{className:"presentrideTable"},o.a.createElement("tbody",null,t.map((function(t,n){return o.a.createElement("tr",{className:"presentrideDetails",key:n,onClick:function(){a(ee([t]));JSON.stringify(t.polyline);console.log(e)}},o.a.createElement("td",null,"07:00"),o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.pcase),o.a.createElement("td",null,t.pickedBy.name))})))):o.a.createElement("div",{className:"noRides"},"Currently there are no rides"))},ie=function(){return o.a.createElement("div",{className:"PresentRides"},o.a.createElement("p",{className:"presentRidesTitle"},"Present Rides"),o.a.createElement(ce,null))},le=function(){return o.a.createElement("div",{className:"Rides"},o.a.createElement(ie,null),o.a.createElement(ne,null))},se=(a(161),a(162),function(e){var t=e.detailHeading,a=e.detailName,n=e.contactNo,r=e.address,c=e.caseName;e.age,e.id;return o.a.createElement("div",{className:"TotalDetail"},o.a.createElement("p",{className:"totalDetailTitle"},t),o.a.createElement("p",{className:"totalDetailName"},a),o.a.createElement("div",{className:"totalDetailContactWrapper"},o.a.createElement("p",{className:"totalDetailContact"},"Contact"),o.a.createElement("p",null,":"),o.a.createElement("p",{className:"totalDetailContactNo"},n)),o.a.createElement("div",{className:"totalDetailCaseOrAddressWrapper"},o.a.createElement("p",{className:"totalDetailAddress"},r?"Address":"Case"),o.a.createElement("p",null,":"),o.a.createElement("p",{className:"totalDetailAddressOrCase"},r||c)))}),me=function(){var e=Object(f.c)((function(e){return e.Rides.currentRideDetails}));return console.log(e),o.a.createElement("div",null,e.length>0?o.a.createElement("div",{className:"TotalDetails"},o.a.createElement(se,{detailHeading:"Patient Details",detailName:e[0].name,contactNo:e[0].patientNo,caseName:e[0].pcase,age:e[0].age}),o.a.createElement(se,{detailHeading:"Driver Details",detailName:e[0].pickedBy.name,contactNo:e[0].pickedBy.mobileNo,id:e[0].pickedBy.hospital._id,address:e[0].pickedBy.hospital.address}),o.a.createElement(se,{detailHeading:"Hospital Details",detailName:e[0].pickedBy.hospital.name,contactNo:e[0].pickedBy.hospital.hospitalNumbers[0],address:e[0].pickedBy.hospital.address})):o.a.createElement("div",{className:"TotalDetails"},o.a.createElement(se,{detailHeading:"Patient Details",detailName:"Patient Name",contactNo:"ContactNo",caseName:"Case Name",age:"age"}),o.a.createElement(se,{detailHeading:"Driver Details",detailName:"Driver Name",contactNo:"Contact No",address:"Address"}),o.a.createElement(se,{detailHeading:"Hospital Details",detailName:"Hospital Name",contactNo:"Contact No",address:"Address"})))},ue="SET_DRIVERLATITUDE_LOCATION",de="SET_DRIVERLONGITUDE_LOCATION",pe=function(){Object(f.c)((function(e){return e.User.latitude})),Object(f.c)((function(e){return e.User.longitude}));var e=Object(f.c)((function(e){return e.Rides.currentRideDetails})),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),c=Object(l.a)(r,2),i=(c[0],c[1]),s=Object(f.b)(),m=Object(f.c)((function(e){return e.User.currentUser.phoneNumber}));return Object(n.useEffect)((function(){s(te(m.slice(3,13))),s(re(m.slice(3,13)))}),[]),Object(n.useEffect)((function(){V=F.a.connect("http://134.209.158.239:3000/drivertrack"),e.length&&"undefined"!==typeof e&&V.emit("join",{roomid:e&&"undefined"!==typeof e?e[0]&&e[0].pickedBy._id:e},console.log(e[0].pickedBy._id,"driverid")),V.on("driverlocation",(function(e){var t,a;i(e),e&&(console.log("Yes"),s((a=e.coordinates[0],{type:ue,payload:a})),s((t=e.coordinates[1],{type:de,payload:t})))}))}),1e3),o.a.createElement("div",{className:"TrackAmbulance"},o.a.createElement("p",{className:"trackpriorityPulse"},"Priority Pulse"),o.a.createElement("div",{className:"trackAmbulanceGrid"},o.a.createElement("div",null,o.a.createElement(le,null)),o.a.createElement("div",{className:"trackMap"},o.a.createElement(M,null))),o.a.createElement("div",{className:"totalDetailsPage"},o.a.createElement(me,null)))};a(163);a.p;var Ee=a(71),ge=a.n(Ee),fe=a(72),be=a.n(fe),he=a(73),ve=a.n(he),Te=a(74),Ne=a.n(Te),Ae=a(75),Se=a.n(Ae),ye=[{color:"#343BFC",title:"Search and select the hospitals nearby",desc:"User can search hospital according to his location. Person can book from anyplace from the world."},{color:"#B2C248",title:"Book an Ambulance and premedication in ambulance",desc:"User can book and ambulance by calling to the hospital authority and send them the exact location."},{color:"#E55B3C",title:"Track Ambulance and connect to driver ",desc:"After accepting the ride, you can track and get in touch with ambulance driver. "},{color:"#00ff00",title:"Live feed to hospital doctors ",desc:"user can directly send live feed to doctors and keep them steady. "},{color:"#808000",title:"Premedication ",desc:"By the time patient arrives to hospital, hospital help be ready with the premediction that is to be done.  "}],_e=function(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"logoh1"},"Priority Pulse"),o.a.createElement("div",{className:"aboutuscontainer"},o.a.createElement("div",{className:"heading"},"Our Idea"),o.a.createElement("div",{className:"contentwrapper"},o.a.createElement("div",{className:"coloum1"},o.a.createElement("p",null,'"We never lack technology, we only lack technology for service". To change this criteria and to end the social issue of "Delayed Ambulances", We - The four innovative minds of IIT BHU came forward with the combination of technical, systematic and emotional solution. The development of hardware devices, user and control room websites & a driver app is the beginning stage of our journey. "Priority Pulse to Priority Pulse Pvt Ltd" is one of the most proudest moment. We all began with the question - "If we can get cab in 5 mins, why not an Ambulance?" and today we can blissfully say that- "Now, an ambulance can reach faster than a cab."')),o.a.createElement("div",{className:"coloum2"},o.a.createElement("img",{className:"aImages",src:ge.a})))),o.a.createElement("div",{className:"howcontainer"},o.a.createElement("div",{className:"coln1"},o.a.createElement("div",{className:"heading"},"How it Works ?"),o.a.createElement("div",{className:"col1inside"},ye.map((function(e,t){return o.a.createElement("div",{className:"uhowData",key:"index"},o.a.createElement("div",{style:{color:"".concat(e.color)},className:"Titleh"},e.title),o.a.createElement("div",{className:"Desch"},e.desc))})))),o.a.createElement("div",{className:"coln2"},o.a.createElement("div",{className:"slider"},o.a.createElement("div",{className:"images"},o.a.createElement("input",{type:"radio",name:"slide",id:"img1"}),o.a.createElement("input",{type:"radio",name:"slide",id:"img2"}),o.a.createElement("input",{type:"radio",name:"slide",id:"img3"}),o.a.createElement("input",{type:"radio",name:"slide",id:"img4"}),o.a.createElement("img",{className:"m1 first",src:Se.a,alt:"img1"}),o.a.createElement("img",{className:"m1",src:be.a,alt:"img2"}),o.a.createElement("img",{className:"m1",src:ve.a,alt:"img3"}),o.a.createElement("img",{className:"m1",src:Ne.a,alt:"img4"})),o.a.createElement("div",{className:"dots"},o.a.createElement("label",{for:"img1"}),o.a.createElement("label",{for:"img2"}),o.a.createElement("label",{for:"img3"}),o.a.createElement("label",{for:"img4"}))))))},Oe=(a(164),a(76)),Ie=a.n(Oe),Le=a(77),Ce=a.n(Le),De=a(78),Re=a.n(De),je=a(79),we=a.n(je),ke=function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("div",{className:"footer-left-wrapper"},o.a.createElement("p",{className:"prioritypulseFooter"},"Priority pulse"),o.a.createElement("p",{className:"copyRights"},"\xa9 2020 All rights reserved")),o.a.createElement("div",{className:"footer-right-wrapper"},o.a.createElement("p",{className:"ppgmail"},"prioritypulse@gmail.com"),o.a.createElement("div",{className:"socialmedialinks-wrapper"},o.a.createElement("ul",{className:"socialMediaList"},o.a.createElement("li",null,o.a.createElement("img",{src:Ie.a,className:"socialmediaicon",alt:"prioritypulse facebook"})),o.a.createElement("li",null,o.a.createElement("img",{src:Ce.a,className:"socialmediaicon",alt:"prioritypulse linkedin"})),o.a.createElement("li",null,o.a.createElement("img",{src:Re.a,className:"socialmediaicon",alt:"prioritypulse instagram"})),o.a.createElement("li",null,o.a.createElement("img",{src:we.a,className:"socialmediaicon",alt:"prioritypulse twitter"}))))))},Pe=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.User.currentUser.phoneNumber}));return Object(n.useEffect)((function(){e(te(t.slice(3,13))),e(re(t.slice(3,13)))}),[]),o.a.createElement(X,null)},Ue=function(){var e=Object(f.c)((function(e){return e.User.currentUser}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Grid"},o.a.createElement("div",{className:"NavbarGrid"},o.a.createElement(v,{currentUser:e})),o.a.createElement("div",{className:"SidebarGrid"},o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/",exact:!0,render:function(){return o.a.createElement(i.a,{to:"/login"})}}),o.a.createElement(i.b,{exact:!0,path:"/login",render:function(){return e?o.a.createElement(i.a,{to:"/home"}):o.a.createElement(C,null)}}),o.a.createElement(i.b,{path:"/home",render:function(){return e?o.a.createElement(Pe,null):o.a.createElement(i.a,{to:"/login"})}}),o.a.createElement(i.b,{path:"/aboutus",exact:!0,component:_e}),o.a.createElement(i.b,{path:"/trackambulance",render:function(){return e?o.a.createElement(pe,null):o.a.createElement(i.a,{to:"/login"})}}),o.a.createElement(i.b,{path:"/logout",render:function(){return o.a.createElement(i.a,{to:"/login"})}})))),o.a.createElement(ke,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=a(17),Be=(a(165),function(e,t){return e.filter((function(e){return e.code===t}))}),Fe={hospitalDetails:[],isFetching:!1,errorMsg:"",aboutHospital:[],coordinates:null},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.GET_HOSPITALDETAILS:return Object(J.a)(Object(J.a)({},e),{},{aboutHospital:Be(e.hospitalDetails,t.payload)});case x.FETCH_HOSPITAL_DETAILS_START:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!0});case x.FETCH_HOSPITAL_DETAILS_SUCCESS:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!1,hospitalDetails:t.payload});case x.FETCH_HOSPITAL_DETAILS_FAILURE:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!1,errorMsg:t.payload});case x.SET_HOSPITAL_COORDINATES:return Object(J.a)(Object(J.a)({},e),{},{coordinates:t.payload});default:return e}},Me={pastrides:[],isFetching:!1,errorMsg:null,pastRideDetails:[],currentRideDetails:[],polyline:""},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.GET_RIDE_DETAILS:return console.log(t.payload),Object(J.a)(Object(J.a)({},e),{},{pastRideDetails:t.payload});case $.GET_CURRENT_RIDE_DETAILS:return Object(J.a)(Object(J.a)({},e),{},{currentRideDetails:t.payload});case $.FETCH_PASTRIDE_DETAILS_START:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!0});case $.FETCH_PASTRIDE_DETAILS_SUCCESS:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!1,pastrides:t.payload,polyline:JSON.stringify(t.payload[0].polyline)});case $.FETCH_PASTRIDE_DETAILS_FAILURE:return Object(J.a)(Object(J.a)({},e),{},{errorMsg:t.payload});default:return e}},We={currentUser:null,latitude:"",longitude:""},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_CURRENTUSER:return Object(J.a)(Object(J.a)({},e),{},{currentUser:t.payload});case d.SET_USERLATITUDE_LOCATION:return console.log(t.payload),Object(J.a)(Object(J.a)({},e),{},{latitude:t.payload});case d.SET_USERLONGITUDE_LOCATON:return Object(J.a)(Object(J.a)({},e),{},{longitude:t.payload});default:return e}},Je=a(37),Ke=a(80),Ye={presentRide:[],isFetching:!1,errorMsg:null,presentRideDetails:[],polyline:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.GET_PRESENTRIDE_DETAILS:return Object(J.a)(Object(J.a)({},e),{},{presentRideDetails:t.payload});case oe.FETCH_PRESENTRIDE_DETAILS_START:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!0});case oe.FETCH_PRESENTRIDE_DETAILS_SUCCESS:return Object(J.a)(Object(J.a)({},e),{},{isFetching:!1,presentRide:t.payload,polyline:JSON.stringify(t.payload[0].polyline)});case oe.FETCH_PRESENTRIDE_DETAILS_FAILURE:return Object(J.a)(Object(J.a)({},e),{},{errorMsg:t.payload});default:return e}},Ve={driverLatitude:"",driverLongitude:""},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(J.a)(Object(J.a)({},e),{},{driverLatitude:t.payload});case de:return console.log(t.payload),Object(J.a)(Object(J.a)({},e),{},{driverLongitude:t.payload});default:return e}},Ze={key:"root",storage:a.n(Ke).a,whitelist:["User"]},Xe=Object(He.c)({Hospital:Ge,Rides:xe,User:ze,PresentRide:qe,Driver:Qe}),$e=Object(Je.a)(Ze,Xe),et=[a(81).a];var tt=Object(He.d)($e,He.a.apply(void 0,et)),at=Object(Je.b)(tt),nt=a(82);c.a.render(o.a.createElement(f.a,{store:tt},o.a.createElement(s.a,null,o.a.createElement(nt.a,{persistor:at},o.a.createElement(Ue,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){e.exports=a.p+"static/media/usermarkersvg.4682fb8a.svg"},35:function(e,t,a){e.exports=a.p+"static/media/hospitalmarkersvg.62313832.svg"},64:function(e,t,a){e.exports=a.p+"static/media/ad.bede6438.jpg"},67:function(e,t,a){e.exports=a.p+"static/media/Profile.3d9a511a.png"},69:function(e,t,a){e.exports=a.p+"static/media/ambulancessvg.bb0f91aa.svg"},70:function(e,t,a){e.exports=a.p+"static/media/phone-solid.2b838ee4.svg"},71:function(e,t,a){e.exports=a.p+"static/media/connecting.b5409a2a.JPG"},72:function(e,t,a){e.exports=a.p+"static/media/userwebpic.769b8320.JPG"},73:function(e,t,a){e.exports=a.p+"static/media/USERTRACK.e09b442c.JPG"},74:function(e,t,a){e.exports=a.p+"static/media/userabout.8f1a999d.JPG"},75:function(e,t,a){e.exports=a.p+"static/media/userlogin.25280ec9.JPG"},76:function(e,t,a){e.exports=a.p+"static/media/facebook-brands.126d7846.svg"},77:function(e,t,a){e.exports=a.p+"static/media/linkedin-brands.6cbc29a1.svg"},78:function(e,t,a){e.exports=a.p+"static/media/instagram.6908c9d0.svg"},79:function(e,t,a){e.exports=a.p+"static/media/twitter-square-brands.8e3b49a2.svg"},83:function(e,t,a){e.exports=a(168)},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.848b3eae.chunk.js.map